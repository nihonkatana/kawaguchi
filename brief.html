<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>掲示場の割当（説明）</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#101a2f;
      --text:#e8eefc;
      --muted:#a7b4d6;
      --line:rgba(255,255,255,.12);
      --accent:#4f86ff;
    }
    body{
      margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
      background:var(--bg); color:var(--text);
    }
    header{
      padding:20px 16px 10px;
      border-bottom:1px solid var(--line);
    }
    header h1{ margin:0 0 8px; font-size:24px; }
    header p{ margin:0; color:var(--muted); font-size:14px; line-height:1.6; }

    main{ padding:16px; max-width:1100px; margin:0 auto; }
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:14px;
      padding:14px;
      margin:12px 0;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .card h2{
      margin:0 0 10px;
      font-size:16px;
    }

    .buttons{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:10px;
    }
    a.btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--line);
      color:var(--text);
      text-decoration:none;
      background:rgba(255,255,255,.06);
      font-weight:600;
      font-size:14px;
    }
    a.btn.primary{
      background:rgba(79,134,255,.22);
      border-color:rgba(79,134,255,.45);
    }

    ul{ margin:0; padding-left:18px; color:var(--text); }
    li{ margin:6px 0; color:var(--text); }
    .muted{ color:var(--muted); }

    .table-wrap{
      overflow:auto;
      border-radius:10px;
      border:1px solid var(--line);
    }
    table{
      width:100%;
      border-collapse:collapse;
      font-size:13px;
      min-width:760px;
      background:rgba(0,0,0,.10);
    }
    th, td{
      padding:10px 10px;
      border-bottom:1px solid var(--line);
      vertical-align:top;
      white-space:nowrap;
    }
    th{
      position:sticky;
      top:0;
      background:rgba(16,26,47,.95);
      text-align:left;
      z-index:1;
    }
    footer{
      padding:16px;
      color:var(--muted);
      font-size:12px;
      text-align:center;
    }
  </style>
</head>
<body>
  <header>
    <h1>掲示場の割当（説明）</h1>
    <p>このページは割当の考え方と一覧をまとめたものです。地図は別ページ（assignment_map.html）で確認します。</p>
  </header>

  <main>
    <section class="card">
      <h2>① 地図</h2>
      <p class="muted">投票区の凸包・番号・掲示場点・駅・担当者エリア（凸包/ラベル）をレイヤで切替できます。</p>
      <div class="buttons">
        <a class="btn primary" href="assignment_map.html">割当マップを開く</a>
      </div>
    </section>

    <section class="card">
      <h2>② 割当の考え方</h2>
      <ul>
  <li>掲示場（地点）を投票区ごとにまとめ、投票区単位で担当者へ割り当てます。</li>
  <li>各担当の所要時間は「移動（距離÷速度）＋作業（掲示場×作業分）」で概算します。</li>
  <li>全員が 240 分以内に収まることを目標に、担当範囲が偏りすぎないよう調整した割当案です。</li>
  <li>自転車の出発駅は必要に応じて置換しています（鳩ヶ谷→川口, 戸塚安行→東川口）。</li>
  <li>このページの設定値は config.json の内容をそのまま掲載しています。</li>
</ul>
      <div style="height:10px"></div>
      <h3 style="margin:8px 0 6px; font-size:14px;">設定（今回の割当で使う変数）</h3>
      <section class="card">
  <h2>（設定一覧）</h2>
  <div class="table-wrap">
    <table>
      <thead><tr><th>項目</th><th>値</th><th>説明</th></tr></thead>
      <tbody><tr><td>cars</td><td>5</td><td>車の担当人数（台数）</td></tr>
<tr><td>bikes</td><td>3</td><td>バイクの担当人数（台数）</td></tr>
<tr><td>bicycles</td><td>8</td><td>自転車の担当人数</td></tr>
<tr><td>bicycle_stations</td><td>川口, 西川口, 川口元郷, 東川口, 新井宿, 南鳩ヶ谷, 鳩ヶ谷, 戸塚安行</td><td>自転車の出発駅（駅単位で担当エリアを作成）</td></tr>
<tr><td>bicycle_station_override</td><td>鳩ヶ谷→川口, 戸塚安行→東川口</td><td>出発駅の置換ルール（例：鳩ヶ谷→川口）</td></tr>
<tr><td>max_time</td><td>240</td><td>目標の上限時間（分）</td></tr>
<tr><td>work_min</td><td>3</td><td>掲示場1件あたりの作業時間（分）</td></tr>
<tr><td>speed_car</td><td>18</td><td>車の移動速度（km/h）</td></tr>
<tr><td>speed_bike</td><td>16</td><td>バイクの移動速度（km/h）</td></tr>
<tr><td>speed_bicycle</td><td>12</td><td>自転車の移動速度（km/h）</td></tr>
<tr><td>seed</td><td>42</td><td>同じ条件で同じ割当を再現するための乱数シード</td></tr></tbody>
    </table>
  </div>
</section>
      <div style="height:10px"></div>
      <h3 style="margin:8px 0 6px; font-size:14px;">計算の前提（固定ルール）</h3>
      <ul>
  <li>移動時間（分）＝（推定移動距離 km ÷ 速度 km/h）× 60</li>
  <li>作業時間（分）＝ 掲示場件数 × 3 分</li>
  <li>合計（分）＝ 移動時間＋作業時間（概算）</li>
  <li>地図は投票区/担当者を「凸包（外周の囲い）」で可視化し、レイヤで表示を切り替えます。</li>
</ul>
    </section>

    <section class="card">
  <h2>③ 担当者ごとの一覧</h2>
  <div class="table-wrap">
    <table>
      <thead><tr><th>担当者</th><th>種別</th><th>駅</th><th>投票区一覧</th><th>掲示場件数</th><th>推定移動距離_km</th><th>推定所要時間_min</th><th>散らばり半径_km</th></tr></thead>
      <tbody><tr><td>bicycle_01</td><td>bicycle</td><td>川口</td><td>2,3,4,5,18,19,20</td><td>54</td><td>9.72</td><td>211</td><td>0.71</td></tr>
<tr><td>bicycle_02</td><td>bicycle</td><td>川口</td><td>84,85,86,94,95,96,97</td><td>50</td><td>16.52</td><td>233</td><td>1.2</td></tr>
<tr><td>bicycle_03</td><td>bicycle</td><td>西川口</td><td>21,22,23,24,25,26,27,28</td><td>57</td><td>11.01</td><td>226</td><td>0.74</td></tr>
<tr><td>bicycle_04</td><td>bicycle</td><td>西川口</td><td>29</td><td>8</td><td>2.54</td><td>37</td><td>0.0</td></tr>
<tr><td>bicycle_05</td><td>bicycle</td><td>川口元郷</td><td>1,7,8,9,32,33,34</td><td>54</td><td>11.93</td><td>222</td><td>0.9</td></tr>
<tr><td>bicycle_06</td><td>bicycle</td><td>南鳩ヶ谷</td><td>87,89,90,91,92,93</td><td>45</td><td>10.95</td><td>190</td><td>0.97</td></tr>
<tr><td>bicycle_07</td><td>bicycle</td><td>新井宿</td><td>63,74,75</td><td>22</td><td>9.45</td><td>113</td><td>0.95</td></tr>
<tr><td>bicycle_08</td><td>bicycle</td><td>東川口</td><td>67,68,69,70,71,72</td><td>48</td><td>16.68</td><td>227</td><td>1.18</td></tr>
<tr><td>bike_1</td><td>bike</td><td></td><td>62,64,65,66,73,76</td><td>47</td><td>22.53</td><td>225</td><td>2.83</td></tr>
<tr><td>bike_2</td><td>bike</td><td></td><td>37,38,40,41</td><td>30</td><td>7.24</td><td>117</td><td>0.79</td></tr>
<tr><td>bike_3</td><td>bike</td><td></td><td>6,31,35,36,39</td><td>37</td><td>11.02</td><td>152</td><td>2.5</td></tr>
<tr><td>car_1</td><td>car</td><td></td><td>10,11,12,13,14,15,16,17,88</td><td>62</td><td>16.06</td><td>240</td><td>1.63</td></tr>
<tr><td>car_2</td><td>car</td><td></td><td>77,78,79,80,81,82,83</td><td>50</td><td>17.58</td><td>209</td><td>1.49</td></tr>
<tr><td>car_3</td><td>car</td><td></td><td>30,42,43,44,45,46,47,48</td><td>57</td><td>15.31</td><td>222</td><td>2.03</td></tr>
<tr><td>car_4</td><td>car</td><td></td><td>49,50,51,52,53,54,55</td><td>50</td><td>9.64</td><td>182</td><td>0.91</td></tr>
<tr><td>car_5</td><td>car</td><td></td><td>56,57,58,59,60,61</td><td>45</td><td>15.68</td><td>187</td><td>1.16</td></tr></tbody>
    </table>
  </div>
</section>

    <section class="card">
  <h2>④ 駅ごとのまとめ（自転車）</h2>
  <div class="table-wrap">
    <table>
      <thead><tr><th>駅</th><th>自転車担当数</th><th>掲示場件数合計</th><th>担当者</th><th>最大半径_km</th></tr></thead>
      <tbody><tr><td>川口</td><td>2</td><td>104</td><td>bicycle_01,bicycle_02</td><td>1.2</td></tr>
<tr><td>西川口</td><td>2</td><td>65</td><td>bicycle_03,bicycle_04</td><td>0.74</td></tr>
<tr><td>川口元郷</td><td>1</td><td>54</td><td>bicycle_05</td><td>0.9</td></tr>
<tr><td>南鳩ヶ谷</td><td>1</td><td>45</td><td>bicycle_06</td><td>0.97</td></tr>
<tr><td>新井宿</td><td>1</td><td>22</td><td>bicycle_07</td><td>0.95</td></tr>
<tr><td>東川口</td><td>1</td><td>48</td><td>bicycle_08</td><td>1.18</td></tr></tbody>
    </table>
  </div>
</section>
  </main>

  <footer>
    generated by make_brief.py
  </footer>
</body>
</html>
